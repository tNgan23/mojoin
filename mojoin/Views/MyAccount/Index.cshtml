@model IEnumerable<mojoin.ViewModel.PostManagementViewModel>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutDangtin.cshtml";
}
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<link href="~/css/createpost.css" rel="stylesheet" />
<link href="~/css/lichsunaptien.css" rel="stylesheet" />
<div class="create-post">
    <div class="title-div">
        <h2 class="title-element">Quản lý tin</h2>
    </div>
    <div class="btn-toolbar mb-2 mb-md-0" style="margin-top: 0.5rem; margin-bottom: 0.5rem;" bis_skin_checked="1">
        <div class="dropdown mr-1" bis_skin_checked="1">
            <select class="btn btn-outline-secondary dropdown-toggle btn-sm"
                    type="button"
                    id="dropdownMenuButton"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false">
                <option value="" disabled selected>Lọc theo loại VIP</option>
                <option value="1">Siêu VIP</option>
                <option value="2">VIP1</option>
                <option value="3">VIP2</option>
                <option value="4">VIP3</option>
                <option value="0">Tin thường</option>
            </select>
        </div>

        <div class="dropdown mr-1" bis_skin_checked="1">
            <select class="btn btn-outline-secondary dropdown-toggle btn-sm " style="margin-left: 0.5rem;"
                    type="button"
                    id="dropdownMenuButton"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false">
                <option value="" disabled selected>Lọc theo trạng thái</option>
                <option value="1">Đã duyệt</option>
                <option value="4">Chưa duyệt</option>
                <option value="2">Hết hạn</option>
                <option value="3">Đang ẩn</option>
                <option value="5">Lỗi duyệt</option>
                <option value="0">Lỗi thanh toán</option>
            </select>
        </div>
    </div>
    <div class="table-responsive" style="width:100%">
        <table class="table table-bordered table-striped" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="nowrap">Mã tin</th>
                    <th class="nowrap">Loại tin</th>
                    <th class="nowrap">Ảnh đại diện</th>
                    <th class="nowrap">Tiêu đề</th>
                    <th class="nowrap">Giá thuê</th>
                    <th class="nowrap">Loại VIP</th>
                    <th class="nowrap">Ngày bắt đầu</th>
                    <th class="nowrap">Ngày hết hạn</th>
                    <th class="nowrap">Trạng thái</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.RoomId</td>
                        <td>
                            @if (item.RoomTypeId == 1)
                            {
                                <p>Nhà trọ</p>
                            }
                            else if (item.RoomTypeId == 2)
                            {
                                <p>Căn hộ</p>
                            }
                            else if (item.RoomTypeId == 3)
                            {
                                <p>Nhà trọ chung chủ</p>
                            }
                            else
                            {
                                <p>Chung cư</p>
                            }
                        </td>
                        <td>
                            <a href="/Rooms/Details/@item.RoomId" class="link-overlay">
                                @foreach (var imageRoom in item.RoomImages.ToList())
                                {
                                    if (imageRoom == item.RoomImages.FirstOrDefault())
                                    {
                                        <img src="@imageRoom.Image" style="height: 250px;" />
                                    }
                                }
                            </a>
                            

                        </td>
                        <td>@item.Title</td>

                        <td>@String.Format("{0:#,##0}", @item.Price)</td>
                        <td>
                            @if (item.DisplayType == 0)
                            {
                                <p>Tin thường</p>
                            }
                            else if (item.DisplayType == 1)
                            {
                                <p>VIP nổi bật</p>
                            }
                            else if (item.DisplayType == 2)
                            {
                                <p>VIP1</p>
                            }
                            else if (item.DisplayType == 3)
                            {
                                <p>VIP2</p>
                            }
                            else
                            {
                                <p>VIP3</p>
                            }
                        </td>
                        <td>
                            @foreach (var userPackage in item.UserPackages.ToList())
                            {
                                <p>@userPackage.StartDate</p>
                            }
                        </td>
                        <td>
                            @foreach (var userPackage in item.UserPackages.ToList())
                            {
                                <p>@userPackage.EndDate</p>
                            }
                        </td>

                        @if (item.IsActive.Equals(1))
                        {
                            <td align="center"><img src="~/images/man_verify.png" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle" style="width: 16px; height: 16px; color: red;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line>Đang hiển thị - Duyệt </td>
                            
                        }
                        else if (item.IsActive.Equals(2))
                        {
                            <td align="center"><img src="~/images/man_clock.png" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle" style="width: 16px; height: 16px; color: red;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line>Hết hạn</td>
                            
                        }
                        else if (item.IsActive.Equals(3))
                        {
                            <td align="center"><img src="~/images/man_hidden.png" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle" style="width: 16px; height: 16px; color: red;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16">Đang ẩn</line></td>
                            
                        }
                        else if (item.IsActive.Equals(4))
                        {
                            <td align="center"><img src="~/images/man_checked.png" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle" style="width: 16px; height: 16px; color: red;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line>Đang hiển thị - Chưa Duyệt</td>
                            
                        }
                        else if (item.IsActive.Equals(5))
                        {
                            <td align="center"><img src="~/images/man_warning.png" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle" style="width: 16px; height: 16px; color: red;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line>Lỗi kiểm duyệt</td>
                            
                        }
                        else
                        {
                            <td align="center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-circle" style="width: 16px; height: 16px; color: red;"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line></svg>Chưa thanh toán</td>
                            
                        }

                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>

